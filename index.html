<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë‚´ ìœ„ì¹˜ ê³µìœ í•˜ê¸°</title>
</head>
<body>
  <h2>ğŸ“ í¬ë ˆë””í†¡ ë‚´ ìœ„ì¹˜ ê³µìœ  ì„œë¹„ìŠ¤ ğŸ“</h2>
  <button onclick="shareLocation()">ë‚´ ìœ„ì¹˜ í™•ì¸í•˜ê¸°</button>
  <div id="result"></div>

  <script>
    function shareLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
      } else {
        alert("Geolocationì´ ì§€ì›ë˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤.");
      }
    }

    function showPosition(position) {
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;
      
      const googleMapsUrl = `https://www.google.com/maps?q=${lat},${lon}`;
      const resultDiv = document.getElementById('result');
      
      resultDiv.innerHTML = `
        <p>í¬ë ˆë””í†¡ ë‚´ ìœ„ì¹˜ ê³µìœ  ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.</p>
        <p>ë³¸ ì„œë¹„ìŠ¤ëŠ” ë²•ì  ê·¼ê±°ìë£Œ ë“±ìœ¼ë¡œ í™œìš©ë  ìˆ˜ ì—†ìœ¼ë‹ˆ ì°¸ê³ ìš©ìœ¼ë¡œë§Œ í™œìš©í•˜ì„¸ìš”. </p>
        <p>ì•„ë˜ ì£¼ì†Œë¥¼ ìƒëŒ€ë°©ì—ê²Œ ë©”ì‹œì§€ë¡œ ê³µìœ í•˜ì—¬ ë‚´ ìœ„ì¹˜ë¥¼ ê³µìœ í•˜ì„¸ìš”.</p>
        <input type="text" value="${googleMapsUrl}" id="link" style="width:80%;" readonly>
        <button onclick="copyLink()">ë³µì‚¬í•˜ê¸°</button>
        <p>Copyright (C) í•œêµ­ê¸ˆìœµë²”ì£„ì˜ˆë°©ì—°êµ¬ì„¼í„°. All rights reserved.<p>
      `;
    }

    function copyLink() {
      const linkInput = document.getElementById('link');
      linkInput.select();
      linkInput.setSelectionRange(0, 99999);
      document.execCommand('copy');
      alert("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
    }

    function showError(error) {
      switch(error.code) {
        case error.PERMISSION_DENIED:
          alert("ìœ„ì¹˜ ì ‘ê·¼ ê¶Œí•œì„ í—ˆìš©í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");
          break;
        case error.POSITION_UNAVAILABLE:
          alert("ìœ„ì¹˜ ì •ë³´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
          break;
        case error.TIMEOUT:
          alert("ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë° ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.");
          break;
        default:
          alert("ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
      }
    }
  </script>
</body>
</html>
